(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[149],{BkCY:function(e,t,a){"use strict";a.d(t,"a",(function(){return FavoritesPrototype}));var n=a("ODXe"),o=a("k8Y/"),r=a.n(o),c=a("q1tI"),i=a.n(c),s=a("/MKj"),l=a("YA6q");const getBookmarks=async()=>(await Object(l.a)({endpoint:"/bookmarks",method:"GET"}).then(Object(l.b)({errorMessage:"Failed to get bookmarks",logAndSwallowErrors:!0}))).bookmarks;var b=a("z9go"),d=a("fUK6"),u=a("yy36"),m=a("Rab/"),f=a("yrBZ"),O=a("uQrA"),p=a("QqFe"),j=a("f5z/"),g=a("yEF4"),E=a("fTi7");const FavoritesCoachmark=({children:e})=>{const t=Object(s.useSelector)(u.ab),a=Object(c.useState)(t),o=Object(n.a)(a,2),r=o[0],l=o[1],onDismissCoachmark=()=>{Object(b.c)({target:"dismiss_coachmark",context:"favorites_prototype_coachmark"}),(e=>{l(e),Object(E.e)({name:"favorites_prototype_coachmark",unset:e})})(!1)};Object(c.useEffect)((()=>{r&&Object(b.d)({target:"favorites_prototype_coachmark",page_name:""})}),[r]);return i.a.createElement(j.a,{shouldShow:r,renderPopover:()=>i.a.createElement(f.a,{px:16,py:24,width:336,display:{_:"none",md:"flex"},flexDirection:"column"},i.a.createElement(O.a,{as:"h1",mb:8,variant:"title-sm"},"Bookmark your favorites!"),i.a.createElement(O.a,{mb:16},"Browse different Codecademy pages and add them to your favorites for easy access. We recommend starting with lessons or cheatsheets!"),i.a.createElement(p.e,{onClick:onDismissCoachmark,alignSelf:"flex-end"},"Got it")),popoverProps:{beak:"right",position:"below",verticalOffset:10,horizontalOffset:279,outline:!0,pattern:g.a}},e)};var h=a("rePB"),y=a("DZdY"),k=a("uz3z"),v=a("MbiU"),w=a("Q9CC"),_=a("WN64"),S=a("630U"),C=a("owCg"),A=a("9lOZ"),D=a("DUW3"),x=a("9K95"),P=a("U4Z1"),T=a("4ALD"),R=a("Prtz"),I=a("tl4j"),N=a("T9J9"),z=a("UzQL"),H=a("9GIZ"),M=a("EkDR"),q=a("XME8"),K=a("vSq7"),L=a("qwNl");const U={article:D.a,informationals:D.a,lessons:x.a,projects:P.a,quizzes:T.a,resource:D.a,video:R.a,seminar:D.a,project_component:P.a,reviewable_project:P.a,book:I.a,documentation:N.a,general_resource:z.a,tutorial:H.a,kanban_project:M.a,content:q.a,cheatsheet:K.a,other:L.a},BookmarkIcon=({type:e})=>{var t;const a=null!==(t=U[e])&&void 0!==t?t:L.a;return i.a.createElement(a,null)};const F=Object(y.a)(f.b,{target:"e1hzroyx1",label:"StyledContainer"})({name:"1at78hm",styles:"svg{flex-shrink:0;margin-top:0.1rem;}"}),B=Object(y.a)(C.a,{target:"e1hzroyx0",label:"StyledAnchor"})("padding-left:1rem;&:hover{color:",(({theme:e})=>e.colors.hyper),";text-decoration:none;}"),Bookmark=({id:e,url:t,title:a,type:n,onEdit:o})=>{const r=Object(s.useDispatch)(),onDelete=async()=>{Object(b.c)({target:"favorite_item_remove",slug:t}),await(async e=>(await Object(l.a)({endpoint:`/bookmarks/${e._id}`,method:"DELETE",data:e}).then(Object(l.b)({errorMessage:"Failed to get bookmarks",logAndSwallowErrors:!0}))).bookmarks)({_id:e});const a=await getBookmarks();r(Object(d.c)(a))},c=[{id:"rename",text:"Rename",clickHandler:()=>o({title:a,url:t,type:n,_id:e})},{id:"delete",text:"Delete",clickHandler:()=>onDelete()}];return i.a.createElement(F,{alignItems:"center",justifyContent:"space-between"},i.a.createElement(f.b,{alignItems:"center"},i.a.createElement(BookmarkIcon,{type:n}),i.a.createElement(B,{href:t,target:"_blank",variant:"interface",onClick:()=>{Object(b.c)({target:"favorite_item_click",slug:t})}},a)),i.a.createElement(A.a,{buttonType:"kebab",align:"left",verticalOffset:0,horizontalOffset:75,dropdownItems:c,onClick:()=>{Object(b.c)({target:"favorite_item_kebab",slug:t})}}))};var Q=a("1qqs");const RenameDialog=({isOpen:e,onRename:t,onClose:a,onChange:n,favoriteName:o})=>i.a.createElement(Q.a,{title:"Rename Favorite",isOpen:e,confirmCta:{children:"Rename",onClick:t},cancelCta:{children:"Cancel",onClick:a},onRequestClose:a},i.a.createElement(k.FormGroup,{label:"Title"},i.a.createElement(k.Input,{id:"favoriteName",name:"favoriteName","data-testid":"favoriteNameInput",onChange:e=>n(e.target.value),value:o})));function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const X=Object(y.a)(w.a,{target:"ey4k3oa0",label:"StyledHills"})({name:"1yjx7km",styles:"padding:20px"}),G=i.a.createElement(f.a,null,i.a.createElement(g.a,{height:"1px",display:"flex"})),EmptyState=()=>i.a.createElement(f.b,{flexDirection:"column",alignItems:"center",justifyContent:"space-between",py:{_:8}},i.a.createElement(X,{width:128}),i.a.createElement(O.a,{textAlign:"center"},"Add some favorites!")),FavoritesPopover=({bookmarks:e,onAddClick:t,disableAddClick:a})=>{const o=Object(s.useDispatch)(),r=Object(c.useRef)(null),u=Object(c.useState)(!1),m=Object(n.a)(u,2),j=m[0],g=m[1],E=Object(c.useState)(!1),h=Object(n.a)(E,2),y=h[0],w=h[1],C=Object(c.useState)(),A=Object(n.a)(C,2),D=A[0],x=A[1],onRename=async()=>{if(D){Object(b.c)({target:"favorites_item_edit",slug:D.url,context:D.title}),await(async e=>(await Object(l.a)({endpoint:`/bookmarks/${e._id}`,method:"PUT",data:e}).then(Object(l.b)({errorMessage:"Failed to get bookmarks",logAndSwallowErrors:!0}))).bookmarks)(D);const e=await getBookmarks();o(Object(d.c)(e))}w(!1)},P=i.a.createElement(f.a,{mx:{sm:8},"data-testid":"header-favorites"},i.a.createElement(p.c,{"aria-label":"open favorites",onClick:()=>{Object(b.c)({target:"favorite_click"}),g(!j)},variant:"interface",icon:v.a,role:"menuitem",tabIndex:"-1"})),T=a?"Page added":"Add this page";return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{ref:r},P),j&&i.a.createElement(S.a,{bg:"white"},i.a.createElement(k.Popover,{align:"right",verticalOffset:1,outline:!0,isOpen:j,onRequestClose:()=>{g(!1)},targetRef:r},i.a.createElement("div",{key:"favorites"},i.a.createElement(f.b,{p:{_:24},flexDirection:"column",width:"360px"},i.a.createElement(f.b,{alignItems:"center",flexDirection:"row",justifyContent:"space-between",pb:{_:16}},i.a.createElement(O.a,{as:"h1",fontSize:22,fontWeight:"title"},"My Favorites"),i.a.createElement(_.a,null)),G,0===e.length&&i.a.createElement(EmptyState,null),i.a.createElement(f.b,{maxHeight:350,flexDirection:"column",overflowX:"hidden",overflowY:"auto"},e.map((e=>i.a.createElement(f.a,{key:e._id,py:{_:16}},i.a.createElement(Bookmark,{id:e._id,url:e.url,title:e.title,type:e.type,onEdit:e=>{x(e),w(!0)}}))))),G,i.a.createElement(f.b,{justifyContent:"flex-end",pt:{_:16}},i.a.createElement(p.b,{onClick:()=>t(),"aria-label":T,disabled:a},T)))))),i.a.createElement(RenameDialog,{isOpen:y,onClose:()=>w(!1),onRename:()=>onRename(),onChange:e=>x(_objectSpread(_objectSpread({},D),{},{title:e})),favoriteName:null==D?void 0:D.title}))},FavoritesPrototype=()=>{const e=Object(s.useDispatch)(),t=Object(s.useSelector)(u.c),a=(e=>e.length<1?[]:r()(e,["created_at"],["desc"]))(t),o=Object(c.useState)(""),f=Object(n.a)(o,2),O=f[0],p=f[1],j=Object(c.useState)(""),g=Object(n.a)(j,2),E=g[0],h=g[1],y=Object(c.useState)(""),k=Object(n.a)(y,2),v=k[0],w=k[1],_=Object(s.useSelector)(m.o),S=Object(s.useSelector)(m.k);Object(c.useEffect)((()=>{Object(b.d)({target:"favorites_impression",page_name:_})}),[_]),Object(c.useEffect)((()=>{var e;p(window.location.origin+window.location.pathname);const t=null===(e=window.document)||void 0===e?void 0:e.title;h(t.replace(" | Codecademy",""));let a="other";switch(_){case"location/CHEATSHEET":case"location/CHEATSHEET_PATHS":a="cheatsheet";break;case"location/COURSE":case"location/PATH":a="content";break;case"location/ARTICLE":case"location/ARTICLES":a="article";break;case"location/PATH_CONTENT_ITEM":case"location/COURSE_CONTENT_ITEM":a=S.contentItemType}w(a)}),[_,S]);const C=t.findIndex((e=>e.url===O))>=0;return i.a.createElement(FavoritesCoachmark,null,i.a.createElement(FavoritesPopover,{bookmarks:a,onAddClick:async()=>{Object(b.c)({target:"favorite_item_add",slug:_});const t=await(async e=>(await Object(l.a)({endpoint:"/bookmarks",method:"POST",data:e}).then(Object(l.b)({errorMessage:"Failed to get bookmarks",logAndSwallowErrors:!0}))).bookmarks)({title:E,type:v,url:O});e(Object(d.c)(t))},disableAddClick:C}))}},QJz3:function(e,t,a){"use strict";a.d(t,"b",(function(){return useNotifications})),a.d(t,"a",(function(){return useNotificationTracking}));var n=a("rePB"),o=a("ODXe"),r=a("q1tI"),c=a("/MKj"),i=a("G4qV"),s=a("z9go"),l=a("GsXu"),b=a("tQXl");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function useNotifications(e){!function useNotificationSubscribe(e){const t=Object(c.useDispatch)();return Object(r.useEffect)((()=>(t(Object(l.c)(e)),()=>{t(Object(l.b)(e.id))})),[t,e])}(e);return{data:function useNotificationArea(e){const t=e.id,a=Object(r.useMemo)((()=>Object(b.a)(t)),[t]),n=Object(b.b)(a),o=Object(i.b)({notifications:a,unreadCount:n});return Object(c.useSelector)(o)}(e),actions:function useNotificationInteractions(){const e=Object(c.useDispatch)();return Object(r.useMemo)((()=>({notificationsDeleted:t=>e(Object(l.d)(t)),notificationsMarkedRead:t=>e(Object(l.e)(t))})),[e])}()}}const useNotificationTracking=(e,t)=>{const a=Object(r.useState)([]),n=Object(o.a)(a,2),c=n[0],i=n[1];Object(r.useEffect)((()=>{const a=[];e.forEach((({id:e,type:n,campaign_name:o})=>{c.includes(e)||(Object(s.d)(_objectSpread(_objectSpread({},t),{},{context:o,slug:n})),a.push(e))})),a.length>0&&i((e=>e.concat(a)))}),[c,i,e,t])}},ixXQ:function(e,t,a){"use strict";let n;a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o})),function(e){e.achievements="achievements",e.local="local",e.streaks="streaks"}(n||(n={}));const o={HEADER_AREA:{id:"bell",types:[],showRead:!0},TOAST_AREA:{id:"toast",types:[n.achievements,n.streaks],showRead:!1,limit:3,timeframe:1800}}}}]);
//# sourceMappingURL=149.89060739379bb38fb1ab.chunk.js.map