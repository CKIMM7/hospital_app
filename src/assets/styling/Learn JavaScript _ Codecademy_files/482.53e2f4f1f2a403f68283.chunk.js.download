(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[482],{"1aMd":function(e,t,a){"use strict";a.d(t,"a",(function(){return RegistrationForm}));var r=a("rePB"),n=a("ODXe"),o=a("Puqe"),i=a.n(o),c=a("uz3z"),s=a("5sab"),l=a("yrBZ"),u=a("q1tI"),d=a.n(u),p=a("f8p9"),b=a("quCL"),O=a("BWC2"),m=a("tYyt"),j=a("z9go"),g=a("ANOs"),y=a("gtj7"),f=a("b0K7"),_=a("NWss"),w=a("JZM8"),S=a.n(w),h=a("fw5G"),E=a.n(h),P=a("YA6q"),D=a("lCZV");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const redirectAfterSignup=({redirectTo:e})=>{const t=new E.a(e).toString();window.location.assign(t)},V=Object.values(D.b),registerAccount=async({serializedValues:e,captchaToken:t,captchaVersion:a})=>{const r=await Object(P.a)({data:_objectSpread({captcha_token:t,captcha_version:a},e),endpoint:f.Jb,method:"POST"});return r.ok?{allowed:!0,result:await r.json()}:{allowed:!1}};var v="markdown__1mlXKrjyg3Vrl-kLsx5NNr",k=a("TsAc");function RegistrationForm_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function RegistrationForm_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?RegistrationForm_ownKeys(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):RegistrationForm_ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const A="Verification failed. Please try again.",RegistrationForm=({onSuccess:e=redirectAfterSignup,currentPage:t,redirectUrl:a,buttonText:r="Sign Up",reminderEmailData:o,trackingData:w})=>{const h=Object(u.useState)(),E=Object(n.a)(h,2),P=E[0],F=E[1],L=Object(u.useState)(),R=Object(n.a)(L,2),M=R[0],K=R[1],N=Object(u.useMemo)((()=>({emailValidation:k.b.email({errorMessages:{"SAML SSO Required":`Your company requires [sign-up via SAML SSO.](${Object(f.r)(a)})`}}),passwordValidation:k.b.password({})})),[a]),T=N.emailValidation,z=N.passwordValidation,q=Object(u.useCallback)((async t=>{Object(j.c)(RegistrationForm_objectSpread(RegistrationForm_objectSpread({},{target:"create_account"}),w));const a=RegistrationForm_objectSpread(RegistrationForm_objectSpread({},(e=>_objectSpread(_objectSpread({},i()(e,V)),{},{user:S()(e,V)}))(t)),{},{reminder_email:o,tracking_data:i()(w,"content_ids")});try{const t=Object(O.a)({action:"register_account",requestV2:e=>registerAccount({captchaVersion:"v2",captchaToken:e,serializedValues:a}),requestV3:e=>registerAccount({captchaVersion:"v3",captchaToken:e,serializedValues:a})}),r=Object(n.a)(t,2),o=r[0],i=r[1];F(o);const c=await i;F(void 0),"complete"===c.status?(Object(j.a)("user_sign_up"),e(c.result)):"failed"===c.status?K(c.error.toString()):K(A)}catch(e){K(A)}}),[e,F,K,o,w]),C=a&&Object(y.c)(a);return d.a.createElement(d.a.Fragment,null,d.a.createElement(c.GridForm,{fields:[{name:D.b.EMAIL,label:_.emailLabel,type:"email",defaultValue:"",size:12,validation:T},{name:D.b.PASSWORD,label:_.passwordLabel,type:"password",tooltip:{children:d.a.createElement(s.a,{text:g.b,className:v}),id:"password-tooltip",alignment:"bottom-left"},size:12,defaultValue:"",validation:z},{name:"referring_page",type:"hidden",defaultValue:t},{name:"redirect",type:"hidden",defaultValue:C},{name:"authenticity_token",type:"hidden",defaultValue:m.a.get("authenticity_token")},{name:D.b.CODING_REMINDERS_COMMS_TIMEZONE,type:"hidden",defaultValue:Intl.DateTimeFormat().resolvedOptions().timeZone},{name:"sweet_container",label:"If you are a human, do not fill in this field.",type:"sweet-container"}],submit:{contents:r,position:"stretch",size:12,loading:({isSubmitting:e})=>e},validation:"onTouched",onSubmit:q,"data-testid":"registration-form"}),d.a.createElement(l.a,{pt:16},M&&d.a.createElement(c.FormError,null,M),P),d.a.createElement(l.a,{pt:8,pb:16,color:"gray-900"},d.a.createElement(b.a,null)),d.a.createElement(p.a,{signUp:!0,trackingData:w,urlParams:RegistrationForm_objectSpread({redirectUrl:a},o)}))}}}]);
//# sourceMappingURL=482.53e2f4f1f2a403f68283.chunk.js.map